# Plant Care System - Backend

Система догляду за кімнатними рослинами з автоматичним моніторингом та управлінням через IoT датчики.

## Структура проекту

```
backend/
├── database/
│   └── init/
│       ├── 01-init.sql          # Створення структури БД
│       ├── 02-seed-data.sql     # Тестові дані
│       └── 03-verify.sql        # Перевірочні запити
├── src/                         # Код бекенду (буде створено пізніше)
├── docker-compose.yml           # Конфігурація контейнерів
├── .env                         # Змінні оточення
└── README.md
```

## Швидкий старт

### 1. Встановлення залежностей

```bash
# Переконайтесь, що у вас встановлений Docker та Docker Compose
docker --version
docker-compose --version
```

### 2. Запуск бази даних

```bash
# Запуск PostgreSQL в контейнері
docker-compose up postgres

# Або в фоновому режимі
docker-compose up -d postgres
```

### 3. Підключення до бази даних

База даних буде доступна на:
- **Host:** localhost
- **Port:** 5432
- **Database:** plant_care
- **Username:** plant_user
- **Password:** plant_password

### 4. Перевірка роботи

```bash
# Підключення через psql (якщо встановлений)
psql -h localhost -p 5432 -U plant_user -d plant_care

# Або через Docker
docker exec -it plant_care_db psql -U plant_user -d plant_care
```

### 5. Перезапуск з чистою базою

```bash
# Зупинка контейнерів
docker-compose down

# Видалення даних (база створюється заново)
docker-compose down -v

# Повторний запуск
docker-compose up -d postgres
```

## База даних

### Таблиці

1. **користувачі** - профілі користувачів системи
2. **типи_рослин** - каталог типів рослин з оптимальними параметрами
3. **рослини** - конкретні рослини користувачів
4. **датчики** - IoT датчики прив'язані до рослин
5. **дані_датчиків** - історія вимірювань з датчиків

### Тестові дані

При ініціалізації створюються:
- 3 користувачі (Іван, Марія, Олег)
- 6 типів рослин (Фіалка, Кактус, Папороть, Фікус, Алое, Спатіфілум)
- 9 рослин розподілених між користувачами
- 22 датчики (вологість, температура, освітлення)
- Історія вимірювань за останню годину
